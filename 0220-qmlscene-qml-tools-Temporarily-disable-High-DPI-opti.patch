From 051684f125bbc31bd882c4cd313c3482bcd145a0 Mon Sep 17 00:00:00 2001
From: Friedemann Kleint <Friedemann.Kleint@theqtcompany.com>
Date: Thu, 29 Oct 2015 15:53:17 +0100
Subject: [PATCH 220/256] qmlscene/qml tools: Temporarily disable High DPI
 options.

To be re-enabled once the attribute names are final.

Task-number: QTBUG-46615
Change-Id: Id463167ab102e3c2f3af4fe39675853eae3bb851
Reviewed-by: Paul Olav Tvete <paul.tvete@theqtcompany.com>
---
 tools/qml/main.cpp      | 4 ++++
 tools/qmlscene/main.cpp | 4 ++++
 2 files changed, 8 insertions(+)

diff --git a/tools/qml/main.cpp b/tools/qml/main.cpp
index 0f16c62..240ddde 100644
--- a/tools/qml/main.cpp
+++ b/tools/qml/main.cpp
@@ -332,7 +332,9 @@ void printUsage()
     printf("\t-desktop.......................Force use of desktop GL (AA_UseDesktopOpenGL)\n");
     printf("\t-gles..........................Force use of GLES (AA_UseOpenGLES)\n");
     printf("\t-software......................Force use of software rendering (AA_UseOpenGLES)\n");
+#if 0 // FIXME: 5.6: Re-enable once attribute naming is final (QTBUG-46615)
     printf("\t-no-scaling....................Disable High DPI scaling (AA_NoHighDpiScaling)\n");
+#endif
     printf("\tDebugging options:\n");
     printf("\t-verbose ..................... Print information about what qml is doing, like specific file urls being loaded.\n");
     printf("\t-translation [file] .......... Load the given file as the translations file.\n");
@@ -504,8 +506,10 @@ int main(int argc, char *argv[])
             QCoreApplication::setAttribute(Qt::AA_UseSoftwareOpenGL);
         } else if (arg == QLatin1String("-desktop")) {
             QCoreApplication::setAttribute(Qt::AA_UseDesktopOpenGL);
+#if 0 // FIXME: 5.6: Re-enable once attribute naming is final (QTBUG-46615)
         } else if (arg == QLatin1String("-no-scaling")) {
             QCoreApplication::setAttribute(Qt::AA_NoHighDpiScaling);
+#endif
         } else {
             files << arg;
         }
diff --git a/tools/qmlscene/main.cpp b/tools/qmlscene/main.cpp
index 9bf1c20..53bd0bf 100644
--- a/tools/qmlscene/main.cpp
+++ b/tools/qmlscene/main.cpp
@@ -356,7 +356,9 @@ static void usage()
     puts("  --desktop..........................Force use of desktop GL (AA_UseDesktopOpenGL)");
     puts("  --gles.............................Force use of GLES (AA_UseOpenGLES)");
     puts("  --software.........................Force use of software rendering (AA_UseOpenGLES)");
+#if 0 // FIXME: 5.6: Re-enable once attribute naming is final (QTBUG-46615)
     puts("  --no-scaling.......................Disable High DPI scaling (AA_NoHighDpiScaling)");
+#endif
     puts("  --verbose..........................Print version and graphical diagnostics for the run-time");
     puts("  -I <path> ........................ Add <path> to the list of import paths");
     puts("  -P <path> ........................ Add <path> to the list of plugin paths");
@@ -451,8 +453,10 @@ int main(int argc, char ** argv)
             options.applicationAttributes.append(Qt::AA_UseSoftwareOpenGL);
         else if (!qstrcmp(arg, "--desktop"))
             options.applicationAttributes.append(Qt::AA_UseDesktopOpenGL);
+#if 0 // FIXME: 5.6: Re-enable once attribute naming is final (QTBUG-46615)
         else if (!qstrcmp(arg, "--no-scaling"))
             options.applicationAttributes.append(Qt::AA_NoHighDpiScaling);
+#endif
     }
 
     foreach (Qt::ApplicationAttribute a, options.applicationAttributes)
-- 
2.5.0

